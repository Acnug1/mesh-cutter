# Mesh Cutter

<img src="https://user-images.githubusercontent.com/5420431/41693329-d99382ca-74d2-11e8-8f62-fbdbd03b59de.gif" align="right" width="150px">

A proof-of-concept Unity project for a mesh cutting algorithm. 
This is a simple implementation of an algorithm that splits in 2 any 3d manifold objects with genus 0.
The split is done using a plane defined by the line drawn by the user and a depth in the same direction as the camera facing forward
(i.e. when we draw a line, we don't see the generated plane since it's perfectly aligned with the camera and the line)


<!-- ## How to install

Simply import ... -->

## Implementation

* For each object tagged as *sliceable*:
    * We create 2 new meshes : a *positive* mesh, which is on the positive side of the slice plane, and a *negative* mesh, which is on the other side.

    * We go through each triangle of the mesh and, if it intersects the plane, we separate it into 3 triangles : 2 on the bigger side of the cut and 1 on the other side (we assume *for now* that it can't be cut perfectly in 2 triangles).  If the triangle doesn't intersect with the plane, we simply store it in its respective mesh (positive or negative). We also keep a list of the newly created vertices, which will all lie on the boundary of the meshes.

    * We then create new triangles to form the boundary face (the new face generated by the cut). We do this by generating a "center-ish" vertex on the face (we simply average all the vertices that form the face) and by connecting each pair of vertices with the center vertex,forming new triangles. We make sure that the orientation of the face is correct for both positive and negative meshes.

    * Finally we create new objects for the new meshes and them apart by a small value (indicated by the *separation* property in the MouseSlice script)


<!-- ## Examples

Here are a few examples of simple shapes being cut.

### Cube

### Cylinder

###  -->


## Future work

This is a work in progress and there is most definitely a lot to improve. Here are some of the things that I would like to tackle in the future. 

* Optimize the whole cutting algorithm. It would probably be a good thing to treat triangles as part of a face, in the sense that when we cut through a face, we could recompute triangles based on the face's shape so that we get an efficient number of triangles. This would also help generate better boundaries;

* Using Unity's Job System to parallelize the cutting process (since the algorithm is relatively slow);

* Handling cuts on manifold objects of genus 1 and above. This would mostly imply detecting the number of boundaries made by cutting the object and associating vertices with their respective boundaries.

* Smooth-shading is not preserved after cutting a smooth-shaded mesh. This is probably due to the fact that we compute flat normals and use it in order to identify wether a new vertex should be computed or not.




